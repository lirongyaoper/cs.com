<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SimpleTree generateTreeText å¯è§†åŒ–æ¼”ç¤º</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1, h2, h3 {
            color: #333;
        }
        
        .demo-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .tree-display {
            font-family: 'Courier New', monospace;
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .step {
            margin: 20px 0;
            padding: 15px;
            border-left: 4px solid #007acc;
            background: #f0f8ff;
        }
        
        .highlight {
            background: #ffeb3b;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        .prefix-demo {
            display: inline-block;
            background: #e3f2fd;
            padding: 5px 10px;
            margin: 2px;
            border-radius: 4px;
            border: 1px solid #2196f3;
        }
        
        .current-prefix {
            background: #ffcdd2;
            border-color: #f44336;
        }
        
        .next-prefix {
            background: #c8e6c9;
            border-color: #4caf50;
        }
        
        .animation-container {
            position: relative;
            margin: 20px 0;
        }
        
        .node {
            display: inline-block;
            padding: 8px 12px;
            margin: 2px;
            background: #e1f5fe;
            border: 2px solid #0277bd;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        
        .node.processing {
            background: #fff3e0;
            border-color: #f57c00;
            animation: pulse 1s infinite;
        }
        
        .node.completed {
            background: #e8f5e8;
            border-color: #388e3c;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            overflow-x: auto;
        }
        
        .variable {
            color: #66d9ef;
        }
        
        .string {
            color: #a6e22e;
        }
        
        .comment {
            color: #75715e;
            font-style: italic;
        }
        
        .control-panel {
            text-align: center;
            margin: 20px 0;
        }
        
        .btn {
            background: #007acc;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .btn:hover {
            background: #005a9e;
        }
        
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #ddd;
        }
        
        th {
            background: #f2f2f2;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background: #f9f9f9;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ³ SimpleTree generateTreeText å¯è§†åŒ–æ¼”ç¤º</h1>
        
        <div class="demo-section">
            <h2>ğŸ“Š ç¤ºä¾‹æ•°æ®ç»“æ„</h2>
            <div class="code-block">
<span class="variable">$data</span> = <span class="string">array</span>(
    <span class="string">1</span> => <span class="string">array</span>(<span class="string">'id'</span> => <span class="string">1</span>, <span class="string">'parentid'</span> => <span class="string">0</span>, <span class="string">'name'</span> => <span class="string">'ç”µå­äº§å“'</span>),
    <span class="string">2</span> => <span class="string">array</span>(<span class="string">'id'</span> => <span class="string">2</span>, <span class="string">'parentid'</span> => <span class="string">1</span>, <span class="string">'name'</span> => <span class="string">'æ‰‹æœº'</span>),
    <span class="string">3</span> => <span class="string">array</span>(<span class="string">'id'</span> => <span class="string">3</span>, <span class="string">'parentid'</span> => <span class="string">1</span>, <span class="string">'name'</span> => <span class="string">'ç”µè„‘'</span>),
    <span class="string">4</span> => <span class="string">array</span>(<span class="string">'id'</span> => <span class="string">4</span>, <span class="string">'parentid'</span> => <span class="string">2</span>, <span class="string">'name'</span> => <span class="string">'iPhone'</span>),
    <span class="string">5</span> => <span class="string">array</span>(<span class="string">'id'</span> => <span class="string">5</span>, <span class="string">'parentid'</span> => <span class="string">2</span>, <span class="string">'name'</span> => <span class="string">'åä¸ºæ‰‹æœº'</span>),
    <span class="string">6</span> => <span class="string">array</span>(<span class="string">'id'</span> => <span class="string">6</span>, <span class="string">'parentid'</span> => <span class="string">3</span>, <span class="string">'name'</span> => <span class="string">'ç¬”è®°æœ¬ç”µè„‘'</span>),
    <span class="string">7</span> => <span class="string">array</span>(<span class="string">'id'</span> => <span class="string">7</span>, <span class="string">'parentid'</span> => <span class="string">3</span>, <span class="string">'name'</span> => <span class="string">'å°å¼ç”µè„‘'</span>)
);
            </div>
        </div>

        <div class="demo-section">
            <h2>ğŸ¯ æœ€ç»ˆç”Ÿæˆçš„æ ‘å½¢ç»“æ„</h2>
            <div class="tree-display" id="finalResult">
ç”µå­äº§å“
â”œâ”€â”€ æ‰‹æœº
â”‚   â”œâ”€â”€ iPhone
â”‚   â””â”€â”€ åä¸ºæ‰‹æœº
â””â”€â”€ ç”µè„‘
    â”œâ”€â”€ ç¬”è®°æœ¬ç”µè„‘
    â””â”€â”€ å°å¼ç”µè„‘
            </div>
        </div>

        <div class="demo-section">
            <h2>ğŸ” å‰ç¼€å­—ç¬¦è¯¦è§£</h2>
            <table>
                <thead>
                    <tr>
                        <th>å­—ç¬¦</th>
                        <th>åç§°</th>
                        <th>ä½œç”¨</th>
                        <th>ä½¿ç”¨åœºæ™¯</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>â”œâ”€â”€</code></td>
                        <td>åˆ†æ”¯è¿æ¥ç¬¦</td>
                        <td>è¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹åé¢è¿˜æœ‰å…„å¼ŸèŠ‚ç‚¹</td>
                        <td>éæœ€åä¸€ä¸ªå­èŠ‚ç‚¹</td>
                    </tr>
                    <tr>
                        <td><code>â””â”€â”€</code></td>
                        <td>æœ«ç«¯è¿æ¥ç¬¦</td>
                        <td>è¡¨ç¤ºè¿™æ˜¯æœ€åä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</td>
                        <td>æœ€åä¸€ä¸ªå­èŠ‚ç‚¹</td>
                    </tr>
                    <tr>
                        <td><code>â”‚</code></td>
                        <td>å‚ç›´è¿æ¥çº¿</td>
                        <td>è¡¨ç¤ºä¸Šå±‚è¿˜æœ‰èŠ‚ç‚¹ï¼Œéœ€è¦ä¿æŒè¿æ¥</td>
                        <td>ä¼ é€’ç»™å­èŠ‚ç‚¹çš„å‰ç¼€</td>
                    </tr>
                    <tr>
                        <td><code>&nbsp;&nbsp;&nbsp;&nbsp;</code></td>
                        <td>ç©ºæ ¼å¡«å……</td>
                        <td>å¯¹é½å’Œå¡«å……ï¼Œä¸æ˜¾ç¤ºè¿æ¥çº¿</td>
                        <td>æœ€åèŠ‚ç‚¹çš„å­èŠ‚ç‚¹å‰ç¼€</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="demo-section">
            <h2>âš¡ åŠ¨æ€æ¼”ç¤ºè¿‡ç¨‹</h2>
            <div class="control-panel">
                <button class="btn" id="startAnimation">å¼€å§‹æ¼”ç¤º</button>
                <button class="btn" id="pauseAnimation">æš‚åœ</button>
                <button class="btn" id="resetAnimation">é‡ç½®</button>
                <button class="btn" id="nextStep">ä¸‹ä¸€æ­¥</button>
            </div>
            
            <div id="animationDisplay">
                <div class="step" id="step0" style="display: none;">
                    <h3>ğŸš€ æ­¥éª¤ 1: å¼€å§‹å¤„ç†æ ¹èŠ‚ç‚¹çš„å­èŠ‚ç‚¹</h3>
                    <p>è°ƒç”¨: <code>generateTreeText(0, "")</code></p>
                    <p>æ‰¾åˆ°å­èŠ‚ç‚¹: ç”µå­äº§å“ (ID: 1)</p>
                    <div class="tree-display">ç”µå­äº§å“</div>
                </div>

                <div class="step" id="step1" style="display: none;">
                    <h3>ğŸ“± æ­¥éª¤ 2: å¤„ç†"æ‰‹æœº"èŠ‚ç‚¹</h3>
                    <p>å½“å‰å¤„ç†: <span class="highlight">æ‰‹æœº</span> (éæœ€åèŠ‚ç‚¹)</p>
                    <p><span class="prefix-demo current-prefix">$current_prefix = "â”œâ”€â”€ "</span></p>
                    <p><span class="prefix-demo next-prefix">$next_prefix = "â”‚   "</span></p>
                    <div class="tree-display">
ç”µå­äº§å“
â”œâ”€â”€ æ‰‹æœº
                    </div>
                </div>

                <div class="step" id="step2" style="display: none;">
                    <h3>ğŸ“ æ­¥éª¤ 3: é€’å½’å¤„ç†æ‰‹æœºçš„å­èŠ‚ç‚¹</h3>
                    <p>è°ƒç”¨: <code>generateTreeText(2, "â”‚   ")</code></p>
                    <p>å¤„ç†: <span class="highlight">iPhone</span> (éæœ€åèŠ‚ç‚¹)</p>
                    <p><span class="prefix-demo current-prefix">$current_prefix = "â”‚   â”œâ”€â”€ "</span></p>
                    <div class="tree-display">
ç”µå­äº§å“
â”œâ”€â”€ æ‰‹æœº
â”‚   â”œâ”€â”€ iPhone
                    </div>
                </div>

                <div class="step" id="step3" style="display: none;">
                    <h3>ğŸ“± æ­¥éª¤ 4: å¤„ç†"åä¸ºæ‰‹æœº"èŠ‚ç‚¹</h3>
                    <p>å¤„ç†: <span class="highlight">åä¸ºæ‰‹æœº</span> (æœ€åèŠ‚ç‚¹)</p>
                    <p><span class="prefix-demo current-prefix">$current_prefix = "â”‚   â””â”€â”€ "</span></p>
                    <div class="tree-display">
ç”µå­äº§å“
â”œâ”€â”€ æ‰‹æœº
â”‚   â”œâ”€â”€ iPhone
â”‚   â””â”€â”€ åä¸ºæ‰‹æœº
                    </div>
                </div>

                <div class="step" id="step4" style="display: none;">
                    <h3>ğŸ’» æ­¥éª¤ 5: å¤„ç†"ç”µè„‘"èŠ‚ç‚¹</h3>
                    <p>å½“å‰å¤„ç†: <span class="highlight">ç”µè„‘</span> (æœ€åèŠ‚ç‚¹)</p>
                    <p><span class="prefix-demo current-prefix">$current_prefix = "â””â”€â”€ "</span></p>
                    <p><span class="prefix-demo next-prefix">$next_prefix = "    " (æ³¨æ„ï¼š4ä¸ªç©ºæ ¼ï¼Œæ²¡æœ‰â”‚)</span></p>
                    <div class="tree-display">
ç”µå­äº§å“
â”œâ”€â”€ æ‰‹æœº
â”‚   â”œâ”€â”€ iPhone
â”‚   â””â”€â”€ åä¸ºæ‰‹æœº
â””â”€â”€ ç”µè„‘
                    </div>
                </div>

                <div class="step" id="step5" style="display: none;">
                    <h3>ğŸ’» æ­¥éª¤ 6: é€’å½’å¤„ç†ç”µè„‘çš„å­èŠ‚ç‚¹</h3>
                    <p>è°ƒç”¨: <code>generateTreeText(3, "    ")</code></p>
                    <p>å¤„ç†: <span class="highlight">ç¬”è®°æœ¬ç”µè„‘</span> (éæœ€åèŠ‚ç‚¹)</p>
                    <p><span class="prefix-demo current-prefix">$current_prefix = "    â”œâ”€â”€ "</span></p>
                    <div class="tree-display">
ç”µå­äº§å“
â”œâ”€â”€ æ‰‹æœº
â”‚   â”œâ”€â”€ iPhone
â”‚   â””â”€â”€ åä¸ºæ‰‹æœº
â””â”€â”€ ç”µè„‘
    â”œâ”€â”€ ç¬”è®°æœ¬ç”µè„‘
                    </div>
                </div>

                <div class="step" id="step6" style="display: none;">
                    <h3>ğŸ–¥ï¸ æ­¥éª¤ 7: å¤„ç†"å°å¼ç”µè„‘"èŠ‚ç‚¹</h3>
                    <p>å¤„ç†: <span class="highlight">å°å¼ç”µè„‘</span> (æœ€åèŠ‚ç‚¹)</p>
                    <p><span class="prefix-demo current-prefix">$current_prefix = "    â””â”€â”€ "</span></p>
                    <div class="tree-display">
ç”µå­äº§å“
â”œâ”€â”€ æ‰‹æœº
â”‚   â”œâ”€â”€ iPhone
â”‚   â””â”€â”€ åä¸ºæ‰‹æœº
â””â”€â”€ ç”µè„‘
    â”œâ”€â”€ ç¬”è®°æœ¬ç”µè„‘
    â””â”€â”€ å°å¼ç”µè„‘
                    </div>
                    <p><strong>âœ… å®Œæˆï¼æ•´ä¸ªæ ‘å½¢ç»“æ„ç”Ÿæˆå®Œæ¯•ã€‚</strong></p>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>ğŸ”‘ å…³é”®ç†è§£ç‚¹</h2>
            <div class="step">
                <h3>1. $next_prefix çš„ä½œç”¨æœºåˆ¶</h3>
                <p><strong>éæœ€åèŠ‚ç‚¹</strong>ï¼šä¼ é€’ <code>"â”‚   "</code> ç»™å­èŠ‚ç‚¹</p>
                <ul>
                    <li>åŒ…å«å‚ç›´çº¿ <code>â”‚</code>ï¼Œè¡¨ç¤º"ä¸Šå±‚è¿˜æœ‰å…„å¼ŸèŠ‚ç‚¹"</li>
                    <li>å­èŠ‚ç‚¹éœ€è¦æ˜¾ç¤ºå‚ç›´è¿æ¥çº¿ä¿æŒç»“æ„å®Œæ•´</li>
                </ul>
                <p><strong>æœ€åèŠ‚ç‚¹</strong>ï¼šä¼ é€’ <code>"    "</code> ç»™å­èŠ‚ç‚¹</p>
                <ul>
                    <li>åªæœ‰ç©ºæ ¼ï¼Œæ²¡æœ‰å‚ç›´çº¿</li>
                    <li>å­èŠ‚ç‚¹ä¸éœ€è¦å‚ç›´è¿æ¥çº¿ï¼Œè§†è§‰ä¸Šæ›´æ¸…æ™°</li>
                </ul>
            </div>

            <div class="step">
                <h3>2. é€’å½’çš„ä¼˜é›…ä¹‹å¤„</h3>
                <p>æ¯ä¸ªèŠ‚ç‚¹åªéœ€è¦çŸ¥é“ï¼š</p>
                <ul>
                    <li>è‡ªå·±æ˜¯å¦æ˜¯æœ€åä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</li>
                    <li>çˆ¶èŠ‚ç‚¹ä¼ é€’çš„å‰ç¼€ä¿¡æ¯</li>
                    <li>å¦‚ä½•ä¸ºè‡ªå·±çš„å­èŠ‚ç‚¹æ„é€ å‰ç¼€</li>
                </ul>
            </div>

            <div class="step">
                <h3>3. å‰ç¼€çš„ä¼ é€’é“¾</h3>
                <p>çˆ¶èŠ‚ç‚¹çš„ä½ç½®ä¿¡æ¯é€šè¿‡ <code>$next_prefix</code> ä¼ é€’ç»™å­èŠ‚ç‚¹ï¼Œå½¢æˆä¸€æ¡ä¿¡æ¯ä¼ é€’é“¾ï¼Œç¡®ä¿æ•´ä¸ªæ ‘ç»“æ„çš„è§†è§‰è¿è´¯æ€§ã€‚</p>
            </div>
        </div>

        <div class="demo-section">
            <h2>ğŸ¨ ä¸åŒåœºæ™¯å¯¹æ¯”</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>æ‰‹æœºå­èŠ‚ç‚¹ (çˆ¶èŠ‚ç‚¹éæœ€å)</h4>
                    <div class="tree-display">
â”œâ”€â”€ æ‰‹æœº
â”‚   â”œâ”€â”€ iPhone
â”‚   â””â”€â”€ åä¸ºæ‰‹æœº
                    </div>
                    <p>æ³¨æ„å·¦ä¾§çš„ <code>â”‚</code> è¿æ¥çº¿</p>
                </div>
                <div>
                    <h4>ç”µè„‘å­èŠ‚ç‚¹ (çˆ¶èŠ‚ç‚¹æ˜¯æœ€å)</h4>
                    <div class="tree-display">
â””â”€â”€ ç”µè„‘
    â”œâ”€â”€ ç¬”è®°æœ¬ç”µè„‘
    â””â”€â”€ å°å¼ç”µè„‘
                    </div>
                    <p>æ³¨æ„å·¦ä¾§æ˜¯ç©ºæ ¼ï¼Œæ²¡æœ‰ <code>â”‚</code></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 0;
        const totalSteps = 7;
        let isAnimating = false;
        let animationInterval;

        const startBtn = document.getElementById('startAnimation');
        const pauseBtn = document.getElementById('pauseAnimation');
        const resetBtn = document.getElementById('resetAnimation');
        const nextBtn = document.getElementById('nextStep');

        function showStep(stepIndex) {
            // éšè—æ‰€æœ‰æ­¥éª¤
            for (let i = 0; i < totalSteps; i++) {
                const step = document.getElementById(`step${i}`);
                if (step) {
                    step.style.display = 'none';
                }
            }
            
            // æ˜¾ç¤ºå½“å‰æ­¥éª¤
            if (stepIndex < totalSteps) {
                const currentStepElement = document.getElementById(`step${stepIndex}`);
                if (currentStepElement) {
                    currentStepElement.style.display = 'block';
                    currentStepElement.scrollIntoView({ behavior: 'smooth' });
                }
            }
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                showStep(currentStep);
                currentStep++;
            }
            
            if (currentStep >= totalSteps) {
                pauseAnimation();
                startBtn.textContent = 'é‡æ–°å¼€å§‹';
            }
        }

        function startAnimation() {
            if (currentStep >= totalSteps) {
                resetAnimation();
            }
            
            isAnimating = true;
            startBtn.disabled = true;
            pauseBtn.disabled = false;
            nextBtn.disabled = true;
            
            animationInterval = setInterval(() => {
                nextStep();
                if (currentStep >= totalSteps) {
                    pauseAnimation();
                }
            }, 3000);
        }

        function pauseAnimation() {
            isAnimating = false;
            clearInterval(animationInterval);
            startBtn.disabled = false;
            pauseBtn.disabled = true;
            nextBtn.disabled = false;
            
            if (currentStep >= totalSteps) {
                startBtn.textContent = 'é‡æ–°å¼€å§‹';
            } else {
                startBtn.textContent = 'ç»§ç»­æ¼”ç¤º';
            }
        }

        function resetAnimation() {
            pauseAnimation();
            currentStep = 0;
            startBtn.textContent = 'å¼€å§‹æ¼”ç¤º';
            
            // éšè—æ‰€æœ‰æ­¥éª¤
            for (let i = 0; i < totalSteps; i++) {
                const step = document.getElementById(`step${i}`);
                if (step) {
                    step.style.display = 'none';
                }
            }
        }

        // äº‹ä»¶ç›‘å¬å™¨
        startBtn.addEventListener('click', startAnimation);
        pauseBtn.addEventListener('click', pauseAnimation);
        resetBtn.addEventListener('click', resetAnimation);
        nextBtn.addEventListener('click', nextStep);

        // åˆå§‹åŒ–
        resetAnimation();
    </script>
</body>
</html>